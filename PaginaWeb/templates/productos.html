{% extends "base.html" %}
{% block content %}

<div class="container card">

    <h2 style="margin-bottom:20px;">Gestión de Productos</h2>

    <!-- BOTONES DE ACCESO A CRUD -->
    <div style="display:flex; gap:10px; margin-bottom:25px;">

        <a href="{% url 'producto_crear' %}" class="btn">
            Añadir Producto
        </a>

        <a href="{% url 'unidades_lista' %}" class="btn">
            Unidades de Medida
        </a>

        <a href="{% url 'movimientos_lista' %}" class="btn">
            Movimientos
        </a>

        <a href="{% url 'movimiento_crear' %}" class="btn">
            Registrar Movimiento
        </a>

    </div>

    <!-- TABLA DE PRODUCTOS -->
    <table class="table">
        <thead>
            <tr>
                <th>Código</th>
                <th>Nombre</th>
                <th>Unidad</th>
                <th>Stock</th>
                <th>Mínimo</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
            {% for p in productos %}
            <tr>
                <td>{{ p.codigo }}</td>
                <td>{{ p.nombre }}</td>
                <td>{{ p.unidad_medida.nombre }}</td>
                <td>{{ p.stock_actual }}</td>
                <td>{{ p.stock_minimo }}</td>

                <td>
                    <a href="{% url 'producto_editar' p.id %}" class="btn small">Editar</a>
                    <a href="{% url 'producto_eliminar' p.id %}" class="btn small danger">Eliminar</a>
                </td>
            </tr>

            {% empty %}
            <tr>
                <td colspan="6">No hay productos registrados.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}
